
		公式
		
			
				D - Play Train 解説
			
			by sugarrr
			
		
		
		
		
			それぞれの電車について、


自分の前部に連結している電車の番号

自分の後部に連結している電車の番号


の \(2\) つの値を管理すれば良いです。

\(c_i = 1,2\) のクエリについて、上記の値の更新は \(O(1)\) で行えます。
\(c_i = 3\) のクエリについて、「出力する電車の番号の個数の合計は \(10^6\) 以下」という条件から、愚直に実装して間に合います。

以上でこの問題を解くことができました。

C++の実装例を示します。



		
		
			
				投稿日時:
				
				
			
				
				最終更新:
				
				
			
			
		
	
