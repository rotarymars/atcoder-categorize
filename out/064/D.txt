æ–‡å­—åˆ— ğ‘  ãŒæ‹¬å¼§åˆ—ã§ã‚ã‚‹ â‡” æ–‡å­—åˆ— ğ‘  ã® â€˜(â€˜ ã®å€‹æ•°ã¨ â€˜)â€™ ã®å€‹æ•°ãŒåŒã˜ã‹ã¤ä»»æ„ã®æ¥é ­è¾ã«
ãŠã„ã¦ã‚‚ â€˜(â€˜ ã®å€‹æ•°ãŒ â€˜)â€™ ã®å€‹æ•°ä»¥ä¸Šã§ã‚ã‚‹ ãŒæˆã‚Šç«‹ã¤ã€‚
ãŸã ã—ã€æ¥é ­è¾ã¨ã¯ ğ‘  ã®æœ€åˆã® ğ‘¥ æ–‡å­— (0 â‰¤ ğ‘¥ â‰¤ |ğ‘ |) ã®ã“ã¨ã§ã‚ã‚‹ã€‚(|ğ‘ | = (ğ‘ ã®é•·ã•))
ğ‘‘ğ‘– ã‚’ ğ‘  ã®æœ€åˆã® ğ‘– æ–‡å­—ã«å«ã¾ã‚Œã‚‹ â€˜(â€˜ ã®å€‹æ•° â€“ â€˜)â€™ ã®å€‹æ•° ã¨ã—ã€ğ‘¥ = min(ğ‘‘0 , ğ‘‘1 , â€¦ , ğ‘‘ğ‘› ) ã¨ã™
ã‚‹ã¨ãã€â€™(â€˜ ã‚„ â€˜)â€™ ã‚’æŒ¿å…¥ã—ãŸæ™‚ã« ğ‘‘|ğ‘ | = 0 ã‹ã¤ ğ‘¥ = 0 ã¨ãªã‚Œã°ã‚ˆã„ã€‚
ãã“ã§ã€â€™(â€˜ ã‚’ 1 ã¤æŒ¿å…¥ã™ã‚‹ã¨ ğ‘‘|ğ‘ | ãŒ 1 å¢—ãˆã€ğ‘¥ ãŒ 0 ã¾ãŸã¯ 1 å¢—ãˆã‚‹ã€‚â€™)â€™ ã‚’ 1 ã¤æŒ¿å…¥ã™ã‚‹ã¨ ğ‘‘|ğ‘ | ãŒ
1 æ¸›ã‚Šã€ğ‘¥ ãŒ 0 ã¾ãŸã¯ 1 æ¸›ã‚‹ã€‚ãã“ã§ã€æ¬¡ã® 4 ã¤ã®æ“ä½œã®ã„ãšã‚Œã‹ã‚’ã—ã¦ã€ğ‘ = 0 ã‹ã¤ ğ‘ = 0 ã¨ãªã‚‹ã‚ˆã†
ã«ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã€‚ (ğ‘ = ğ‘‘|ğ‘ | , ğ‘ = ğ‘¥ ã«å¯¾å¿œã—ã¦ã„ã‚‹)
a. ğ‘ ã‚’ 1 å¢—åŠ ã•ã›ã‚‹ã€‚
b. ğ‘ ã‚’ 1 å¢—åŠ ã•ã›ã€ğ‘ ã‚’ 1 å¢—åŠ ã•ã›ã‚‹ã€‚
c. ğ‘ ã‚’ 1 æ¸›å°‘ã•ã›ã‚‹ã€‚
d. ğ‘ ã‚’ 1 æ¸›å°‘ã•ã›ã€ğ‘ ã‚’ 1 æ¸›å°‘ã•ã›ã‚‹ã€‚
ã¾ãšã€ğ‘ â‰¤ 0 ã®çŠ¶æ…‹ã‹ã‚‰ ğ‘ = 0 ã«ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ã€b. ã®æ“ä½œã‚’ âˆ’ğ‘ å›è¡Œã†ã“ã¨ã«ã™ã‚‹ã€‚d.
ã®æ“ä½œã‚’ 1 å›ã‚„ã‚‹ã¨ b. ã®æ“ä½œã‚’ 1 å›ã—ã¦ã‚‚ã¨ã«æˆ»ã‚Šã€ãã‚Œä»¥å¤–ã«æ–¹æ³•ã¯ãªã„ã®ã§ç„¡é§„ã«ãªã‚‹ã€‚ãã®ã¨ãã€
ğ‘ ã®å€¤ãŒ (å…ƒã® ğ‘) + ğ‘ ã¨ãªã£ã¦ãŠã‚Šã€ğ‘ â‰¥ ğ‘ ã‚ˆã‚Šç¾åœ¨ã® ğ‘ ã¯ 0 ä»¥ä¸Šã«ãªã£ã¦ã„ã‚‹ã€‚ğ‘ = 0 ã«ã™ã‚‹ãŸã‚
ã«ã¯ c. ã®æ“ä½œã‚’ (å…ƒã® ğ‘ ) + ğ‘ å›è¡Œã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚ã‚ˆã£ã¦ã€æŒ¿å…¥å›æ•°ãŒ ğ‘ âˆ’ 2ğ‘ = ğ‘‘|ğ‘ | âˆ’ ğ‘¥
å›æœªæº€ã«ãªã‚‹ã“ã¨ãŒãªã„ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚
ãã“ã§ä¸€ç•ªå·¦ã« â€˜(â€˜ ã‚’ âˆ’ğ‘¥ å€‹ã€ä¸€ç•ªå³ã« â€˜)â€™ ã‚’ ğ‘‘|ğ‘ | âˆ’ ğ‘¥ å€‹æŒ¿å…¥ã™ã‚‹ã¨ ğ‘‘|ğ‘ | âˆ’ 2ğ‘¥ å›ã®æŒ¿å…¥ã§ã§
ãã‚‹ã®ã§ã€å…ˆã»ã©ã®è¨¼æ˜ã‚ˆã‚Šæ–‡å­—æ•°ãŒæœ€å°ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚ã¾ãŸã€ãã®ä¸­ã§è¾æ›¸é †æœ€å°ã‚‚é”æˆã§ãã‚‹ã€‚
ã‚ˆã£ã¦ã€ã“ã®å•é¡Œã¯ ğ‘‚(|ğ‘ |) ã§è§£ãã“ã¨ãŒã§ããŸã€‚

AtCoder Beginner Contest 064 Editorial
Problem Setter: E869120 / square1001
2017/6/10
For a string ğ‘† that consist from â€˜(â€˜ and â€˜)â€™, ğ‘† is a correct bracket sequence if and
only if ğ‘† includes exactly same number of â€˜(â€˜ and â€˜)â€™, and the number of â€˜(â€˜ is large
or equal to the number of â€˜)â€™ for all prefix.
Let ğ‘‘ğ‘– = (the number of â€˜(â€˜ in ğ‘–-th prefix) â€“ (the number of â€˜)â€™ in ğ‘–-th prefix). ğ‘–th prefix is the prefix with length ğ‘–. The objective is to be ğ‘‘ğ‘  = 0 and ğ‘¥ = 0, with
some insertion of â€˜(â€˜ and â€˜)â€™.
If you insert â€˜(â€˜, ğ‘‘|ğ‘ | increases by 1 and ğ‘¥ increases by 0 or 1. If you insert â€˜)â€™, ğ‘‘|ğ‘ |
decreases by 1 and ğ‘¥ decreases by 0 or 1. In the constraints ğ‘¥ â‰¤ 0, ğ‘‘|ğ‘ | âˆ’ ğ‘¥ â‰¥ 0, if
you can do all 4 operations freely and independently (ğ‘‘|ğ‘ | += 1, ğ‘‘|ğ‘ | += 1 and ğ‘¥+= 1,
ğ‘‘|ğ‘ | âˆ’= 1, ğ‘‘|ğ‘ | âˆ’= 1 and ğ‘¥âˆ’= 1), the optimal way is operating ğ‘‘|ğ‘ | += 1, ğ‘¥+= 1 for âˆ’ğ‘¥
times, and operating ğ‘‘|ğ‘ | âˆ’= 1 for ğ‘‘|ğ‘ | âˆ’ ğ‘¥ times, so the minimum number of
operation is ğ‘‘|ğ‘ | âˆ’ 2ğ‘¥ times.
Therefore, the lower bound of number of insertion is ğ‘‘|ğ‘ | âˆ’ 2ğ‘¥ times, and you can
achieve in following way:
1. Insert â€˜(â€˜ in the leftmost place âˆ’ğ‘¥ times.
2. Insert â€˜)â€™ in the rightmost place ğ‘‘|ğ‘ | âˆ’ ğ‘¥ times.
The total number of insertion is ğ‘‘|ğ‘ | âˆ’ 2ğ‘¥, and it is same as the lower bound that
already proved. So, this is the minimum insertion. And this is also lexicographically
smallest.


