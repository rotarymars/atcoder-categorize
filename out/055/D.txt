「円環状に並んでいる N 匹の動物たちに両隣の動物が同じ種類かどうか訪ねた結果と矛盾しな
いような動物の割当てが存在するか？」という問題です．動物は羊と狼の 2 種類だけですが，羊は
本当のことを言うのに対して狼は嘘をつくのが問題を複雑にしています．
この問題の重要な性質は「ある連続した 2 匹の種類が分かれば，その隣にいる動物の種類も分か
る」ということです．例えば i − 1 番と i 番の動物の種類がそれぞれ分かっているとすると，i 番
の言っていることが本当か嘘かがまず分かります．次に i − 1 番の種類が分かっているので，i + 1
番の種類がどちらか分かる，ということです．さらに，i 番と i + 1 番の種類が分かっているので

i + 2 番の種類が分かり，i + 1 番と i + 2 番の種類が分かっているので i + 3 番の種類が分かり，
というように連鎖的に動物の種類が分かります．
上の性質から 1 番と 2 番の動物の種類を仮定すると 3, 4, 5, . . . , N 番の動物の種類が連鎖的に定
まります．最後にこの仮定が正しかったかどうかを s と矛盾しないかどうかで調べればよいです．
試す候補は高々 4 通りなので O(N ) でこの問題を解くことが可能です．

2

