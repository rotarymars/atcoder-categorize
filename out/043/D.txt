以下、文字列 s の長さを n とします。s には、長さ 2 以上の部分文字列が n(n-1)/2
個存在します。
部分点のデータセットでは n が最大で 100 と小さいため、s の部分文字列をすべて
列挙することができます。それぞれの部分文字列について、各アルファベットの出
現回数を数えることでアンバランスか判定すれば、時間計算量 O(n3) で問題を解く
ことができます。
満点を得るためには、n が 105 に達するケースにも正解する必要があります。この n
の値では、すべての部分文字列を列挙する時間はありません。どうすればよいで
しょうか？
実は、長さ 2 の "XX"（X は何らかの同じアルファベット）というパターンと、長さ 3 の
"XYX"（Y は何らかのアルファベット）というパターンのいずれも s に存在しなければ、
アンバランスな部分文字列は存在しません。なぜなら、もしこれらのパターンが存在
しなければ、同じアルファベットの 2 つの文字の間に必ず他の文字が 2 つ以上挟
まっていることになり、一種類のアルファベットが部分文字列の文字の過半数を占め
ることはないからです。よって、時間計算量 O(n) で問題を解くことができます。

