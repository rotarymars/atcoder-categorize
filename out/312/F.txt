
		公式
		
			
				F - Cans and Openers 解説
			
			by cn449
			
		
		
		
		
			缶切りが不要な缶を選ぶ個数を固定すると、明らかに満足度が大きいものから選ぶのが最適です。
同様に、缶切りが必要な缶についても選ぶ個数を固定すると満足度が大きいものから選ぶのが最適で、缶切りについても使用できる缶の個数が多いものから選ぶのが最適です。
降順にソートして和を取ることで、各 \(t\) について缶切りが不要な缶を \(t\) 個選ぶときに得られる満足度の最大値がわかります。
したがって、各 \(s\) について缶切りが必要な缶と缶切りを合計 \(s\) 個選ぶときに得られる満足度の最大値がわかればよいです。
ここで、最適解において缶切りが必要な缶であって、缶切りが使用されないものと、缶切りであって、どの缶に対しても使用しないものが存在しないとしてよいことから、以下のような貪欲により最適解が得られることがわかります。


まだ使用できる缶切りがあるならば、缶切りが必要な缶であって、満足度が最大のものを選ぶ。
そうでないならば、缶切りであって、使用できる缶の個数が最大のものを選ぶ。


あらかじめ缶切りが必要な缶の満足度と缶切りの使用できる回数をソートしておくことで、上で示した貪欲は \(O(N)\) で行え、この問題が解けました。

実装例



		
		
			
				投稿日時:
				
				
			
				
				最終更新:
				
				
			
			
		
	
