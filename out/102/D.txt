予め累積和を求めておき、ある区間の和を O(1) で求められるようにしておきます。
切り込みを入れる 3 箇所のうち、真ん中の切れ込みを 1 つ固定したとします。真ん中の切れ込み
で切ったあとの 2 つの数列を L,R とします。あとは、L と R をそれぞれ 1 回ずつ切ることを考え
ます。

L の切り方を考えると、切ったあとの 2 つの数列の要素の総和ができるだけ近いほうが良いこと
がわかります。よって、真ん中の切れ込みを固定すると、左の切れ込みの位置を決めることが出来
ます。真ん中の切れ込みの位置が、i 番目の要素と i + 1 番目の要素の間の時、最適な左の切れ込
みの位置を F (i) とおきます。このとき、F (i) は i に関して単調増加であり、尺取り方を用ること
で F (i) をすべての i に対して O(N ) で求めることが出来ます。
右の切れ込みについても、同様にして求めることが出来ます。これで、すべての真ん中の切れ込
みの位置に対して、残りの 2 つの切れ込みの位置を求めることが出来ました。あとは、実際にそれ
ぞれの場合に対して答えを計算すれば、答えが求まります。
よって、O(N ) でこの問題は解けました。
