さて、問題文の制約をよく見てみましょう。一番重要なのは、以下の二点です。

• 条件を満たすピラミッドは 1 つしか存在しない。
• ピラミッドの中心座標は (Cx , Cy ) であり、Cx , Cy は 0 以上 100 以下の整数。
まず、条件を満たすピラミッドがただ 1 つなのであれば、必ず以下のものが 1 個以上存在します。

• 調査で得られた情報のうち、hi ≥ 1 を満たす情報 (xi , yi , hi )。

なぜなら、全部 hi = 0 であるとき、調査を行っていない整数座標を中心とする高さ 1 のピラミッドが条件
を満たしてしまうので、最低でも 101 × 101 − N 個、N = 100 の場合 10, 101 個以上の条件を満たすピラミッ
ドが存在することになるからです。そこで、前述の条件を満たす情報のうち 1 個を (xt , yt , ht ) とおきます。

Cx , Cy は 0 以上 100 以下の整数なので、中心座標として考えられるのは高々 101 × 101 = 10, 201 通りで
す。そこで中心座標 (px, py) を全探索することを考えます。

px, py が決まっているとき、ピラミッドの高さは ht + |px − xt | + |py − yt |(ht ≥ 1) となるので、一意に定
まります。その後は、その (中心座標, 高さ) の組が調査によって得られた情報に適合するか、を確認するだけ
です。
計算回数は 101 × 101 × N 回くらいになります。300 点問題にしては結構実装は重いです。
【サンプルコード (C++)】

https://beta.atcoder.jp/contests/abc112/submissions/3340382

4

