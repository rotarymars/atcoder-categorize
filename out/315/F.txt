
		公式
		
			
				F - Shortcuts 解説
			
			by physics0523
			
		
		
		
		
			例えば、 \(100\) 個のチェックポイントを無視したとしましょう。

この時 \(2^{99} \approx 10^{30}\) のペナルティが発生しますが、愚直に全てのチェックポイントを回ったとしても距離の総和は \(N \times 10^5\) 以内で収まるので、この数の無視をするのは明らかに無駄であることが分かります。

この時、以下の DP が成立します:
dp[最後に通ったチェックポイント][無視したチェックポイントの数] = {距離の総和の最小値}
二つ目の添字 は \(100\) 未満しか考慮しなくて良いことに注意してください。

\(dp[1][0]=0\) 、その他のテーブルの値は \(\infty\) に初期化され、答えは 「 \(dp[N][i]\) に \(i\) 個のチェックポイントを無視した際のペナルティを足したもの」の最小値となります。

このことから、考慮する無視の回数の上限を \(C\) としたとき、時間計算量 \(O(NC^2)\) でこの問題に正解できます。
( \(C=100\) とするとギリギリになる可能性がありますが、もう少しよい見積をすると実行時間に余裕を持って AC できます。 )

実装例 (C++):



		
		
			
				投稿日時:
				
				
			
				
				最終更新:
				
				
			
			
		
	
