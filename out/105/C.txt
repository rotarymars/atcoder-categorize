N の −2 進表記の (−2)i の桁に現れる整数を Si とします。このとき、S0 以外の決め方が N を 2 で割っ
たあまりに影響することはないので、S0 は N が奇数の時 1 で、そうでないとき 0 にする必要があります。

S0 , S1 以外の決め方が N を 4 で割ったあまりに影響することはないので、S0 が決まっている状況下では
S1 も決まります。このようにして、順次各々の Si の値を決めて行くことができます。また、−2 進 K 桁の
数が表すことのできる整数の範囲を考えれば、この繰り返しは高々 O(log N ) 回で終了することも分かり、こ
の問題を解くことができます。

