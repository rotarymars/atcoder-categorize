
		公式
		
			
				D - Hanjo 解説
			
			by  tatyam
			
		
		
		
		
			\(HW \le 16\) と制約が小さいので、敷き詰め方を全探索することを考えましょう。
左上のマスから順に、半畳、右にはみ出す畳、下にはみ出す畳を置くことを試す DFS を行うと、敷き詰め方を全探索することができます。

計算量を見積もりましょう。
長方形の畳の左上となる場所を決め、そこから右か下かどちらに伸ばすかを選択することを考えると、答えは \(2^A\binom{HW}A\) で上から押さえられます。
\(HW2^A\binom{HW}A\) は最大でも \(5 \times 10^7\) 程度なので、十分高速であると分かります。
実際には、答えの最大値は \(3388\)
 であるので、見積もりよりずっと高速に動作します。

BONUS : \(HW ≤ 200\) で解いてみましょう！

回答例 (C++)



回答例 (Python)



		
		
			
				投稿日時:
				
				
			
				
				最終更新:
				
				
			
			
		
	
