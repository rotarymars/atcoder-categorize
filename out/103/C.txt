m = a1 × a2 × · · · × aN とすると、各 i について m mod ai = 0 なので、(m − 1) mod ai = ai − 1 です。
したがって f (m − 1) = (a1 − 1) + (a2 − 1) + · · · + (an − 1) となり、各項が最大値を取っているのでこれが

f の最大値です。実装では、m は非常に大きいため、m を計算せずに f (m − 1) を直接計算すればよいです。
よって、O(n) でこの問題が解けました。

3

