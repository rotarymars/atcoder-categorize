「できるだけ少ない数のボールの整数を書き換える」というのは，
「できるだけ多くのボールの整数を，変更しないま
まにしておく」というのと同じです．ここで，変更を行わないボールたちに書かれている整数は K 種類以下でなければ
なりません．逆に，これが K 種類以下なら，他のボールに書かれている整数も，変更しないでおくボールに書かれてい
る整数から選んで書き換えることで，全体として書かれている整数を K 種類以下にすることができます．
よって，問題は「整数を K 個選んで，それらのうちのどれかが書かれているボールの数を最大化する」と言い換えら
れます．選ぶ整数としては，できるだけそれが書かれているボールの数が多いようなものから順に選んでいくのが最適
です．
最初書かれている整数として考えられるものは 1 以上 N 以下なので，各整数に対して「その整数が書かれているボー
ルは何個あるか」を容易に求めることができます．この個数分布をソートして，大きいほうから K 個の和をとることで，
書き換えないボールの個数の最大値がわかります．あとは N からこの値を引くと，求める値を計算することができます．

3

For each integer x between 1 and N , count the number of occurrences of x in the input, and sort it. The answer is
N minus the sum of K greatest integers in the frequency list.

1

