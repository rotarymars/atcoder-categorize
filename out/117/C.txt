コマの数が目的地の数以上の場合、すなわち N ≥ M の場合、初めに各目的地に 1 つ以上のコマを配置
できるので 0 回の移動で目的を達成できます。以降、N < M として考えます。さらに、一般性を失わずに

X1 < X2 < ... < XM とソートされていると考えて良いです (実装では、入力された座標をソートします)。
ある 1 つのコマに着目したとき、移動を通して訪れる座標は区間になります。逆に、ある区間の整数座標全
てをある 1 つのコマで訪れる場合、区間の一端に最初に配置し、もう一端に向かって移動し続けるのが最適
です。また、複数のコマが同じ座標を訪れるのは無駄です。したがって、各コマが担当する区間を並べると、
ちょうど N − 1 個の開区間 (Xi , Xi+1 ) が訪れられていない形になります。Li = Xi+1 − Xi とすると、その
ときの合計移動回数は (XM − X1 )− (訪れられていない開区間の Li の和) となるため、(訪れられていない
開区間の Li の和) を最大化すれば良いです。これは、Li を大きい方から N − 1 個取るのが最大です。計算
量はソートがボトルネックとなり O(M logM ) です。

3

